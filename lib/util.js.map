{"version":3,"sources":["../src/util.js"],"names":[],"mappings":"oJAAA,2E;;AAEA;AACA,IAAI,aAAa,GAAI,YAAW;AAC9B;AACA,SAAO,CAAC,IAAR;AACD,CAHmB,EAApB;;AAKA;sCACO,IAAI,aAAa,GAAG,UAAS,KAAT,EAAgB;AACzC;AACA,6BAAmB;AACjB;AACD;;AAED,MAAI,SAAS,GAAG,KAAK,CAAC,eAAtB;AACA,MAAI,WAAW,GAAG,KAAK,CAAC,iBAAxB;AACA,EAAA,KAAK,CAAC,eAAN,GAAwB,KAAxB;;AAEA,MAAI,IAAJ;AACA,EAAA,KAAK,CAAC,iBAAN,GAA0B,UAAS,IAAT,EAAe,KAAf,EAAsB;AAC9C,QAAI,MAAM,GAAG,KAAK,CAAC,KAAK,GAAG,CAAT,CAAlB;AACA,QAAI,yBAAE,WAAF,CAAc,MAAd,CAAJ,EAA2B;AACzB;AACD;;AAED,IAAA,IAAI,GAAG;AACL,MAAA,IAAI,EAAE,MAAM,CAAC,WAAP,EADD;AAEL,MAAA,IAAI,EAAE,MAAM,CAAC,aAAP,EAFD;AAGL,MAAA,QAAQ,EAAE,MAAM,CAAC,eAAP,EAHL,EAAP;;AAKD,GAXD;AAYA;AACA,EAAA,KAAK,GAAG,KAAR;;AAEA,EAAA,KAAK,CAAC,eAAN,GAAwB,SAAxB;AACA,EAAA,KAAK,CAAC,iBAAN,GAA0B,WAA1B;AACA,SAAO,IAAP;AACD,CA7BM,C;;AA+BQ,O","file":"util.js","sourcesContent":["import _ from 'lodash-firecloud';\n\n// see https://stackoverflow.com/a/10480227/465684\nlet _isStrictMode = (function() {\n  // eslint-disable-next-line babel/no-invalid-this\n  return !this;\n})();\n\n// See http://code.google.com/p/v8/wiki/JavaScriptStackTraceApi\nexport let getCallerInfo = function(level) {\n  // 'strict' mode has no caller info\n  if (_isStrictMode) {\n    return;\n  }\n\n  let origLimit = Error.stackTraceLimit;\n  let origPrepare = Error.prepareStackTrace;\n  Error.stackTraceLimit = level;\n\n  let info;\n  Error.prepareStackTrace = function(_err, stack) {\n    let caller = stack[level - 1];\n    if (_.isUndefined(caller)) {\n      return;\n    }\n\n    info = {\n      file: caller.getFileName(),\n      line: caller.getLineNumber(),\n      function: caller.getFunctionName()\n    };\n  };\n  // eslint-disable-next-line babel/no-unused-expressions\n  Error().stack;\n\n  Error.stackTraceLimit = origLimit;\n  Error.prepareStackTrace = origPrepare;\n  return info;\n};\n\nexport default exports;\n"]}